!function(){var n=function(n,t){var i="resources/"+n,c=new Image;c.src=i,c.complete?t&&t():c.onload=function(){t&&t(),c.onload=null}},t=function(t,i){n("gif/"+t+".gif?v=01071330",i),$(".sec-wrap.gif_"+t+" img").attr("src","resources/gif/"+t+".gif?v=01071330")},i=function(n,t){var i=$(".sec-wrap.gif_"+n);i.show(),a.hide(),t&&t(i)},c=function(n,t){var i=$(".sec-wrap.gif_"+n);i.css("z-index","1").hide(),t&&setTimeout(function(){i.find("img").removeAttr("src").attr("src","resources/gif/"+n+".gif?v=01071330")})},o=function(){var n=$(window).width(),t=$(window).height(),i=t/n,c=$("#gif_style");if(417/235>i){c.html(".sec-wrap img {width: 100%;}")}else{c.html(".sec-wrap img {width: "+t/(417/235)+"px;}")}},f=function(){t("1",function(){s(),document.querySelector(".process").style.display="none",n("image/icon_dot.png"),n("image/icon_star.png"),t("2",function(){t("3"),t("4"),t("5"),t("4fan"),t("3fan"),t("6",function(){t("7"),t("8"),t("9"),t("8fan"),t("7fan"),t("10",function(){t("11"),t("12"),t("13"),t("12fan"),t("11fan"),t("14",function(){t("15"),t("16"),t("17"),t("16fan"),t("15fan"),t("18",function(){t("19"),t("20"),t("21"),t("20fan"),t("19fan"),t("22",function(){t("23"),t("24"),t("25")})})})})})})})},e=function(n){var t=n.find(".text"),i=n.find(".btn.back");t.css("opacity","0"),i.css("opacity","0").hide(),t.animate({opacity:1},4e3,function(){i.show().animate({opacity:1},500)})},u=function(n,t){var i=n.find("a.btn.fun");i.hide(),i.css("opacity","0"),setTimeout(function(){i.show().animate({opacity:1},500,function(){i.addClass("animate")})},1e3*t)},a=function(){var n,t=-1,i=function(n){n=""+n;for(var t=n.length-3;t>0;t-=3)n=n.substring(0,t)+","+n.substr(t);return n},c=[{t:12,start:0,end:110,unit:"千米"},{t:10,start:0,end:58e6,unit:"千米"},{t:9,start:0,end:16e3,unit:"万光年"},{t:9,start:16e3,end:2e4,unit:"光年"},{t:15,start:0,end:3e8,unit:"光年"},{t:6,start:3e8,end:6e9,unit:"亿光年"}],o=function(){t++,clearInterval(n);var o=0,u=c[t],a=u.t,s=u.start,r=(u.end-s)/a,p=$(".instance-text");n=setInterval(function(){if(o<a){s+=r,o++;var f=i(Math.round(s))+u.unit;p.text(f+"左右")}else clearInterval(n),t>=c.length-1&&e()},333.33),f()},f=function(){$(".instance-wrap").show()},e=function(){$(".instance-wrap").hide()};return{increase:o,show:f,hide:e}}(),s=function(){i(1,function(n){n.find(".text").css("opacity","0"),n.find(".text.a").animate({opacity:1},5e3,function(){n.find(".text.b").animate({opacity:1},5e3)})}),setTimeout(function(){c(1),i(2,function(n){u(n,13),a.increase()})},13040)},r=function(){i(3),setTimeout(function(){c(3,!0),i(4),setTimeout(function(){c(4,!0),p()},1040)},1080)},p=function(){i(5,function(n){e(n)})},m=function(){i(7),setTimeout(function(){c(7,!0),i(8),setTimeout(function(){c(8,!0),w()},1080)},1080)},w=function(){i(9,function(n){e(n)})},d=function(){i(11),setTimeout(function(){c(11,!0),i(12),setTimeout(function(){c(12,!0),l()},2070)},1080)},l=function(){i(13,function(n){e(n)})},g=function(){i(15),setTimeout(function(){c(15,!0),i(16),setTimeout(function(){c(16,!0),h()},1e3)},2e3)},h=function(){i(17,function(n){e(n)})},b=function(){i(19),setTimeout(function(){c(19,!0),i(20),setTimeout(function(){c(20,!0),T()},90)},1080)},T=function(){i(21,function(n){e(n)})},_=function(){i(22,function(){a.increase()}),setTimeout(function(){c(22),i(23,function(n){a.show(),setTimeout(function(){a.hide()},500),e(n)}),setTimeout(function(){c(23),i(24,function(n){var t=n.find(".text");t.css("opacity","0"),t.animate({opacity:1},1e3)})},11080)},2e3)},k=function(n){n.css({zIndex:3,opacity:1})},v=function(){$(".pop-wrap").css({zIndex:1,opacity:0})},y=function(){v(),k($(".pop-wrap.name"))},x=function(){v(),k($(".pop-wrap.form"))},I=function(n){for(var t=0,i=0;i<n.length;i++){n[i].charCodeAt()>128?t+=2:t++}return!(t>20)},z=function(){var n=$(".pop-wrap.result"),t=[3,5,8,10,15,18],i=t[Math.floor(6*Math.random())],c=$(".pop-wrap.form .form-input").val();I(c)?(n.find(".star-name").text(c),n.find(".star-instance").text(i),v(),k(n)):alert("对不起，命名长度超过限制，最多可输入20个字节，中文占2字节，英文占1字节")};$(document).ready(function(){f(),o(),$(window).resize(function(){o()}),$(".sec-wrap.gif_2 .btn.fun.a").click(function(){c(2),r()}),$(".sec-wrap.gif_2 .btn.fun.b").click(function(){c(2),i(6,function(n){u(n,5),a.increase()})}),$(".sec-wrap.gif_5 .btn.back").click(function(){c(5,!0),i("4fan"),setTimeout(function(){c("4fan",!0),i("3fan"),setTimeout(function(){c("3fan",!0),i(2,function(){a.show()})},1080)},1040)}),$(".sec-wrap.gif_6 .btn.fun.a").click(function(){c(6),m()}),$(".sec-wrap.gif_6 .btn.fun.b").click(function(){c(6),i(10,function(n){u(n,2),a.increase()})}),$(".sec-wrap.gif_9 .btn.back").click(function(){c(9,!0),i("8fan"),setTimeout(function(){c("8fan",!0),i("7fan"),setTimeout(function(){c("7fan",!0),i(6,function(){a.show()})},1080)},1080)}),$(".sec-wrap.gif_10 .btn.fun.a").click(function(){c(10),d()}),$(".sec-wrap.gif_10 .btn.fun.b").click(function(){c(10),i(14,function(n){u(n,2),a.increase()})}),$(".sec-wrap.gif_13 .btn.back").click(function(){c(13,!0),i("12fan"),setTimeout(function(){c("12fan",!0),i("11fan"),setTimeout(function(){c("11fan",!0),i(10,function(){a.show()})},1080)},2070)}),$(".sec-wrap.gif_14 .btn.fun.a").click(function(){c(14),g()}),$(".sec-wrap.gif_14 .btn.fun.b").click(function(){c(14),i(18,function(n){u(n,2),a.increase()})}),$(".sec-wrap.gif_17 .btn.back").click(function(){c(17,!0),i("16fan"),setTimeout(function(){c("16fan",!0),i("15fan"),setTimeout(function(){c("15fan",!0),i(14,function(){a.show()})},2e3)},1e3)}),$(".sec-wrap.gif_18 .btn.fun.a").click(function(){c(18),b()}),$(".sec-wrap.gif_18 .btn.fun.b").click(function(){c(18),_()}),$(".sec-wrap.gif_21 .btn.back").click(function(){c(21,!0),i("20fan"),setTimeout(function(){c("20fan",!0),i("19fan"),setTimeout(function(){c("19fan",!0),i(18,function(){a.show()})},1080)},90)}),$(".sec-wrap.gif_24 .anc").click(function(){c(24),i(25,function(){setTimeout(function(){y()},4030)})}),$(".sec-wrap.gif_25 .pop-wrap.name .pop-btn-name").click(function(){x()}),$(".sec-wrap.gif_25 .pop-wrap.form .form-submit").click(function(){z()}),$(".sec-wrap.gif_25 .pop-share-wrap .pop-share").click(function(){$(".sec-wrap.gif_25 .pop-share-wrap").hide()})})}();